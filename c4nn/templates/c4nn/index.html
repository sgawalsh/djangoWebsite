{% extends "personal/header.html" %}

{% block content %}

	<!--<button type="button" class="btn btn-primary" data-toggle="button" aria-pressed="false" autocomplete="off" id ="userFirst">User Moves First</button>
	<label for="difficultySetting">Difficulty Setting</label><input type="number" class="btn btn-default" id ='difficultySetting' value=5 min="1" max="7">-->
	{% if errorMessage %}
		<div class="row">
			<div class="col-md-12">
				<p>{{errorMessage}}</p>
			</div>
		</div>
	{% endif %}
	<br><br>
	<form onsubmit="return checkUploads()" action="/c4nn/takeTurn" method = "post" enctype="multipart/form-data">
		{% csrf_token %}
		<div class="row">
			<div class="col-md-6 col-sm-6">
				<label for="player1">Player 1</label>
				<select class="form-control" id="player1" name="player1" onchange="getVal(this)">
				  <option>Human Player</option>
				  <option>Minimax Algorithm</option>
				  <option>Default Neural Net</option>
				  <option>Upload Neural Net</option>
				</select>
			</div>
			<div class="col-md-6 col-sm-6">
			  <label for="player2">Player 2</label>
				<select class="form-control" id="player2" name="player2" onchange="getVal(this)">
				  <option>Human Player</option>
				  <option>Minimax Algorithm</option>
				  <option>Default Neural Net</option>
				  <option>Upload Neural Net</option>
				</select>
			</div>
		</div>
		<div class="row">
			<br>
			<div class="col-md-6 col-sm-6" id="player1Files">
				<label for="player1Policy" id="player1PolicyLabel" style="display: none">Policy Network</label>
				<input type="file" id="player1Policy" name="player1Policy" style="display: none">
				<label for="player1Value" id="player1ValueLabel" style="display: none">Value Network</label>
				<input type="file" id="player1Value" name="player1Value" style="display: none">
				<label for="player1MinimaxDepth" id="player1MinimaxDepthLabel" style="display: none">Minimax Depth</label>
				<input type="number" id="player1MinimaxDepth" name="player1MinimaxDepth" min="1" max="8" style="display: none" value="5">
				<label for="player1RecursionCount" id="player1RecursionCountLabel" style="display: none">Recursion Count</label>
				<input type="number" id="player1RecursionCount" name="player1RecursionCount" min="1" max="500" style="display: none" value="100">
			</div>
			<div class="col-md-6 col-sm-6" id="player2Files">
				<label for="player2Policy" id="player2PolicyLabel" style="display: none">Policy Network</label>
				<input type="file" id="player2Policy" name="player2Policy" style="display: none">
				<label for="player2Value" id="player2ValueLabel" style="display: none">Value Network</label>
				<input type="file" id="player2Value" name="player2Value" style="display: none">
				<label for="player2MinimaxDepth" id="player2MinimaxDepthLabel" style="display: none">Minimax Depth</label>
				<input type="number" id="player2MinimaxDepth" name="player2MinimaxDepth" min="1" max="8" style="display: none" value="5">
				<label for="player2RecursionCount" id="player2RecursionCountLabel" style="display: none">Recursion Count</label>
				<input type="number" id="player2RecursionCount" name="player2RecursionCount" min="1" max="500" style="display: none" value="100">
			</div>
		</div>
		<br>
		<div class = "row">
			<div class="col-md-12">
				<button type="submit" class="btn btn-default">Submit</button>
			</div>
		</div>
	</form>

{% load staticfiles %}
<script type="text/css" src="{% static 'personal/css/bootstrap.min.css' %} "></script>
<script type="text/javascript" src="{% static 'c4nn/c4nn.js' %}"></script>
{% endblock %}

{% block description %}
{% include "personal/includes/descriptionModal.html" with modalTitle="Connect 4 A.I." modalBody="<p>The goal of this project was to apply the <a href='https://en.wikipedia.org/wiki/Minimax'>minimax algorithm</a> to the game of connect 4 in order to create an AI that a user can play against.</p><p>First, the board is read by the computer and converted into a 2d array made up of a class giving info on the state of the board. In order to choose a move, the program generates a tree which has the current board as its root. Each subsequent level of the tree contains possible moves that could be made from the positions on the level above. The algorithm uses <a href='https://en.wikipedia.org/wiki/Alpha%E2%80%93beta_pruning'>Alpha-Beta pruning</a> in order to eliminate branches that can no longer contribute to the final result, which greatly reduces the amount of work to be done by the program.</p><p>It would take too long to generate a tree with all possible permutations of the game, so instead a maximum tree depth is set by the user in the difficulty setting box. This value represents how many moves ahead the algorithm will consider. A higher setting allows the program to make smarter moves, but requires more time to run. On the final level of the tree, each board is given a score according to a heuristic which attempts to score each board according to how favourable it is from the position of the computer player. It's these scores that are used to run the minimax algorithm which determines the move made by the program.</p>"%}
{% endblock %}